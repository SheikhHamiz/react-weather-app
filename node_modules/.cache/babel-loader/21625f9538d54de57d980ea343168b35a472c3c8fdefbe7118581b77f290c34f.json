{"ast":null,"code":"import _slicedToArray from\"E:/Project/react-weather-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{AsyncPaginate}from'react-select-async-paginate';import{GEO_API_URL,geoApiOptions}from'../api';import{jsx as _jsx}from\"react/jsx-runtime\";var Search=function Search(_ref){var onSearchChange=_ref.onSearchChange;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),search=_useState2[0],setSearch=_useState2[1];var loadOptions=function loadOptions(inputValue){return fetch(\"\".concat(GEO_API_URL,\"/cities?minPopulation=1000000&namePrefix=\").concat(inputValue),geoApiOptions).then(function(res){return res.json();}).then(function(res){return{options:res.data.map(function(city){return{value:\"\".concat(city.latitude,\" \").concat(city.longitude),label:\"\".concat(city.name,\" \").concat(city.countryCode)};})};}).catch(function(err){return console.log(err);});};var handleOnchange=function handleOnchange(searchData){setSearch(searchData);onSearchChange(searchData);};return/*#__PURE__*/_jsx(AsyncPaginate,{placeholder:\"Search for city\",debounceTimeout:600,value:search,onChange:handleOnchange,loadOptions:loadOptions});};export default Search;","map":{"version":3,"names":["useState","AsyncPaginate","GEO_API_URL","geoApiOptions","jsx","_jsx","Search","_ref","onSearchChange","_useState","_useState2","_slicedToArray","search","setSearch","loadOptions","inputValue","fetch","concat","then","res","json","options","data","map","city","value","latitude","longitude","label","name","countryCode","catch","err","console","log","handleOnchange","searchData","placeholder","debounceTimeout","onChange"],"sources":["E:/Project/react-weather-app/src/components/search/search.js"],"sourcesContent":["import { useState } from 'react';\r\nimport {AsyncPaginate} from 'react-select-async-paginate';\r\nimport { GEO_API_URL,geoApiOptions } from '../api';\r\nconst Search = ({onSearchChange}) => {\r\n    const [search,setSearch] = useState(null);\r\n\r\n    const loadOptions = (inputValue) => {\r\n        return fetch(`${GEO_API_URL}/cities?minPopulation=1000000&namePrefix=${inputValue}`,\r\n        geoApiOptions\r\n        )\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                return {\r\n                    options: res.data.map((city) => {\r\n                        return {\r\n                            value: `${city.latitude} ${city.longitude}`,\r\n                            label: `${city.name} ${city.countryCode}`\r\n                        }\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    }\r\n    \r\n    const handleOnchange = (searchData) => {\r\n        setSearch(searchData);\r\n        onSearchChange(searchData);\r\n    }\r\n\r\n    return (\r\n        <AsyncPaginate\r\n            placeholder='Search for city'\r\n            debounceTimeout={600}\r\n            value={search}\r\n            onChange={handleOnchange}\r\n            loadOptions={loadOptions}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Search;"],"mappings":"kHAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAAQC,aAAa,KAAO,6BAA6B,CACzD,OAASC,WAAW,CAACC,aAAa,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBACnD,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAAC,IAAA,CAAyB,IAApB,CAAAC,cAAc,CAAAD,IAAA,CAAdC,cAAc,CAC3B,IAAAC,SAAA,CAA2BT,QAAQ,CAAC,IAAI,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,MAAM,CAAAF,UAAA,IAACG,SAAS,CAAAH,UAAA,IAEvB,GAAM,CAAAI,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,UAAU,CAAK,CAChC,MAAO,CAAAC,KAAK,IAAAC,MAAA,CAAIf,WAAW,8CAAAe,MAAA,CAA4CF,UAAU,EACjFZ,aACA,CAAC,CACIe,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,CAAC,CAAC,GAAC,CACvBF,IAAI,CAAC,SAAAC,GAAG,CAAI,CACT,MAAO,CACHE,OAAO,CAAEF,GAAG,CAACG,IAAI,CAACC,GAAG,CAAC,SAACC,IAAI,CAAK,CAC5B,MAAO,CACHC,KAAK,IAAAR,MAAA,CAAKO,IAAI,CAACE,QAAQ,MAAAT,MAAA,CAAIO,IAAI,CAACG,SAAS,CAAE,CAC3CC,KAAK,IAAAX,MAAA,CAAKO,IAAI,CAACK,IAAI,MAAAZ,MAAA,CAAIO,IAAI,CAACM,WAAW,CAC3C,CAAC,CACL,CAAC,CACL,CAAC,CACL,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CAED,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIC,UAAU,CAAK,CACnCvB,SAAS,CAACuB,UAAU,CAAC,CACrB5B,cAAc,CAAC4B,UAAU,CAAC,CAC9B,CAAC,CAED,mBACI/B,IAAA,CAACJ,aAAa,EACVoC,WAAW,CAAC,iBAAiB,CAC7BC,eAAe,CAAE,GAAI,CACrBb,KAAK,CAAEb,MAAO,CACd2B,QAAQ,CAAEJ,cAAe,CACzBrB,WAAW,CAAEA,WAAY,CAC5B,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}